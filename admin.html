<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Админ — редактирование фото — HAREST</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">
  <!-- removed inline admin styles; see admin.css for moved rules -->
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <div class="owner">
        <div class="brand">
          <span class="brand-logo" aria-hidden="true">
            <img src="./logo_no.png" alt="HAREST" class="brand-logo-img" />
          </span>
          <div>
            <div class="owner-name">HAREST</div>
            <div class="owner-sub">Админ — галереи</div>
          </div>
        </div>
      </div>
      <div class="header-actions">
        <nav class="main-nav" aria-label="menu">
          <a class="nav-link" href="index.html">Главная</a>
          <a class="nav-link" href="contacts.html">Контакты</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="admin" id="adminApp">
      <h2 style="margin:0 0 10px;">Панель управления галереями</h2>

      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:8px">
        <label for="galleryKey" class="small" style="min-width:160px;margin:0">Выберите галерею:</label>
        <select id="galleryKey" style="min-width:220px;">
          <option value="dom">Уютный дом (dom)</option>
          <option value="centr">Квартира в центре (centr)</option>
          <option value="park">Квартира у парка (park)</option>
        </select>
        <button class="btn btn-outline" id="loadBtn">Загрузить</button>
        <div style="margin-left:auto;display:flex;gap:8px;">
          <button class="btn btn-primary" id="applyAllBtn">Сохранить</button>
          <a class="btn" href="index.html">Назад на сайт</a>
        </div>
      </div>

      <div class="small" style="margin-bottom:12px">Добавьте фото — можно перетаскивать для изменения порядка. Редактируйте подпись (alt). Выделяйте фото и удаляйте их одной кнопкой.</div>

      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;align-items:center">
        <label for="filePicker" class="small" style="min-width:140px;margin:0">Загрузить файлы:</label>
        <input id="filePicker" type="file" accept="image/*" multiple>
        <button class="btn btn-outline" id="addFilesBtn">Добавить файлы</button>

        <label for="imgUrl" class="small" style="min-width:100px;margin-left:8px">Или по ссылке:</label>
        <input id="imgUrl" type="url" placeholder="https://..." style="flex:1;min-width:220px">
        <button class="btn btn-outline" id="addUrlBtn">Добавить по URL</button>
      </div>

      <aside class="meta-panel" style="margin-bottom:12px;">
        <label class="small">Информация об объекте</label>
        <input id="metaTitle" type="text" placeholder="Название объекта (например: Уютный дом)" />
        <input id="metaPrice" type="text" placeholder="Цена и опции (например: 5000 ₽/сутки · 120 000 ₽/месяц)" />
        <textarea id="metaDesc" rows="3" placeholder="Короткое описание"></textarea>
        <input id="metaSpecs" type="text" placeholder="Характеристики через запятую" />
        <textarea id="metaRules" rows="2" placeholder="Правила проживания"></textarea>
      </aside>

      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <div class="small">Текущие изображения (перетащите для перестановки)</div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-outline" id="selectAllBtn">Выделить все</button>
          <button class="btn btn-outline" id="deleteSelectedBtn">Удалить выбранные</button>
        </div>
      </div>

      <div class="list" id="list" aria-live="polite" style="min-height:160px;"></div>

      <div id="msg" class="small" style="margin-top:12px;color:var(--muted)"></div>

      <hr style="margin:18px 0;border:none;border-top:1px solid rgba(0,0,0,0.06)">

      <div style="margin-top:8px;">
        <h3 style="margin:0 0 8px">Отзывы (управление)</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:8px;">
          <input id="revAuthor" type="text" placeholder="Автор" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);min-width:160px;">
          <input id="revDate" type="date" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);">
          <select id="revRating" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;">
            <option value="1">1 ★</option>
            <option value="2">2 ★★</option>
            <option value="3">3 ★★★</option>
            <option value="4">4 ★★★★</option>
            <option value="5" selected>5 ★★★★★</option>
          </select>
          <button class="btn btn-outline" id="addReviewBtn">Добавить/Обновить</button>
          <button class="btn btn-outline" id="clearReviewsBtn">Удалить все</button>
        </div>
        <textarea id="revText" placeholder="Текст отзыва" style="width:100%;margin-top:8px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);" rows="3"></textarea>
        <div class="small" style="margin-top:8px">Текущие отзывы:</div>
        <div id="reviewsList" class="list" style="margin-top:8px"></div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="contact">
        <h3 class="contact-title">Админ</h3>
      </div>
    </div>
    <div class="footer-note">© HAREST — аренда жилья без посредников</div>
  </footer>

  <script src="script.js"></script>
  <script type="module" src="admin.js"></script>
  <!-- removed inline admin script; logic moved to lib/admin-core.js and admin.js now bootstraps it -->
</body>
</html>