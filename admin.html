<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Админ — редактирование фото — HAREST</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin.css">
  <!-- removed inline admin styles; see admin.css for moved rules -->
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <div class="owner">
        <div class="brand">
          <span class="brand-logo" aria-hidden="true">
            <img src="./logo_no.png" alt="HAREST" class="brand-logo-img" />
          </span>
          <div>
            <div class="owner-name">HAREST</div>
            <div class="owner-sub">Админ — галереи</div>
          </div>
        </div>
      </div>
      <div class="header-actions">
        <nav class="main-nav" aria-label="menu">
          <a class="nav-link" href="index.html">Главная</a>
          <a class="nav-link" href="contacts.html">Контакты</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="admin" id="adminApp">
      <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap">
        <label for="galleryKey" class="small">Выберите галерею (key):</label>
        <select id="galleryKey">
          <option value="dom">dom (Уютный дом)</option>
          <option value="park">park (Квартира у парка)</option>
          <option value="centr">centr (Квартира в центре)</option>
        </select>
        <button class="btn btn-primary" id="loadBtn">Загрузить</button>
        <button class="btn btn-outline" id="deleteSelectedBtn">Удалить выбранные фото</button>
      </div>

      <div style="margin-top:12px" class="small">Добавляйте несколько фото сразу с устройства или по ссылке; редактируйте заголовок, цену, описание и специи.</div>

      <div class="cols" style="margin-top:12px;gap:10px;">
        <div class="field" style="align-items:center;">
          <label class="small" for="filePicker" style="min-width:110px;">Выбрать файлы (несколько)</label>
          <input id="filePicker" type="file" accept="image/*" multiple>
          <button class="btn btn-outline" id="addFilesBtn">Добавить выбранные</button>
        </div>

        <div class="field" style="align-items:center;">
          <input id="imgUrl" type="url" placeholder="https://... или ./photo.jpg" style="flex:1">
          <button class="btn btn-outline" id="addUrlBtn">Добавить по ссылке</button>
        </div>

        <aside class="meta-panel">
          <label class="small">Информация об объекте</label>
          <input id="metaTitle" type="text" placeholder="Название объекта (например: Уютный дом)" />
          <input id="metaPrice" type="text" placeholder="Цена и опции (например: 5000 ₽/сутки · 120 000 ₽/месяц)" />
          <textarea id="metaDesc" rows="4" placeholder="Короткое описание, что важно гостю: транспорт, удобства, вид"></textarea>
          <input id="metaSpecs" type="text" placeholder="Короткие характеристики через запятую: Площадь:65м²,Комнаты:3" />
          <textarea id="metaRules" rows="3" placeholder="Коротко о правилах: заезд, выезд, домашние животные"></textarea>
        </aside>
      </div>

      <div style="margin-top:12px" class="small">Текущие изображения галереи:</div>
      <div class="list" id="list"></div>

      <div class="controls" style="margin-top:12px;">
        <button class="btn btn-primary" id="applyAllBtn">Сохранить и применить на сайте</button>
        <a class="btn" href="index.html">Вернуться на сайт</a>
      </div>
      <div class="small" id="msg" style="margin-top:8px"></div>

      <!-- Reviews management -->
      <div style="margin-top:18px;">
        <h3 style="margin:8px 0">Отзывы (управление)</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center;">
          <input id="revAuthor" type="text" placeholder="Автор" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);min-width:160px;">
          <input id="revDate" type="date" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);">
          <label for="revRating" class="small" style="margin-left:6px;margin-right:4px;color:var(--muted)">Оценка</label>
          <select id="revRating" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;">
            <option value="1">1 ★</option>
            <option value="2">2 ★★</option>
            <option value="3">3 ★★★</option>
            <option value="4">4 ★★★★</option>
            <option value="5" selected>5 ★★★★★</option>
          </select>
          <button class="btn btn-outline" id="addReviewBtn">Добавить/Обновить</button>
          <button class="btn btn-outline" id="clearReviewsBtn">Удалить все отзывы</button>
        </div>
        <textarea id="revText" placeholder="Текст отзыва" style="width:100%;margin-top:8px;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);" rows="3"></textarea>
        <div class="small" style="margin-top:8px">Текущие отзывы:</div>
        <div id="reviewsList" class="list" style="margin-top:8px"></div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="contact">
        <h3 class="contact-title">Админ</h3>
      </div>
    </div>
    <div class="footer-note">© HAREST — аренда жилья без посредников</div>
  </footer>

  <script type="module" src="admin.js"></script>
  <!-- removed inline admin script; logic moved to lib/admin-core.js and admin.js now bootstraps it -->
</body>
</html>